---
import { Image } from 'astro:assets';
const { name } = Astro.props;
---

<section id="home" class="min-h-screen flex items-center justify-center bg-[var(--background)] px-6 md:px-12 relative overflow-hidden" aria-labelledby="hero-heading">
  <div class="absolute inset-0 pointer-events-none overflow-hidden" aria-hidden="true">
    <p class="hero-blur-text absolute top-1/4 -left-20 text-[20vw] font-[var(--font-heading)] text-[var(--foreground)] opacity-[0.03] font-bold leading-none whitespace-nowrap">
      DEVELOPER
    </p>
    <p class="hero-blur-text-2 absolute top-1/2 -right-32 text-[18vw] font-[var(--font-heading)] text-[var(--foreground)] opacity-[0.03] font-bold leading-none whitespace-nowrap">
      CREATIVE
    </p>
  </div>

  <div class="absolute top-10 right-10 w-32 h-32 rounded-full border-2 border-[var(--accent)] opacity-20 badge-float" aria-hidden="true"></div>
  <div class="absolute bottom-20 left-20 w-24 h-24 rounded-full bg-[var(--accent)] opacity-10 badge-float-delay" aria-hidden="true"></div>

  <div class="absolute top-1/3 right-1/4 w-64 h-64 border border-[var(--border)] opacity-20 rotate-45 shape-rotate" aria-hidden="true"></div>

  <div class="max-w-7xl w-full z-10">
    <div class="grid md:grid-cols-2 gap-12 items-center">
      <div class="space-y-8 hero-content">
        <div class="space-y-4">
          <div class="inline-block px-4 py-2 border border-[var(--accent)] mb-4 backdrop-blur-sm">
            <span class="text-sm tracking-widest uppercase text-[var(--accent)]">Portfolio 2025</span>
          </div>

          <h1 id="hero-heading" class="text-6xl md:text-7xl lg:text-8xl font-[var(--font-heading)] text-[var(--foreground)] leading-[0.9] font-bold hero-title">
            {name}
          </h1>
          <div class="w-24 h-1 bg-[var(--accent)] hero-line" aria-hidden="true"></div>
        </div>

        <p class="text-xl md:text-2xl text-[var(--muted-foreground)] max-w-xl font-light leading-relaxed hero-subtitle" aria-live="polite">
          <span id="typing-text"></span><span class="typing-cursor" aria-hidden="true">|</span>
        </p>

        <div class="flex flex-wrap gap-4 pt-4 hero-buttons">
          <a
            href="#projects"
            class="group px-8 py-4 bg-[var(--accent)] text-[var(--secondary-foreground)] font-medium relative overflow-hidden hover:shadow-2xl transition-all duration-300"
          >
            <span class="relative z-10">View Work</span>
            <div class="absolute inset-0 bg-[var(--foreground)] transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300"></div>
          </a>
          <a
            href="#contact"
            class="px-8 py-4 border-2 border-[var(--accent)] text-[var(--accent)] font-medium hover:bg-[var(--accent)] hover:text-[var(--secondary-foreground)] hover:shadow-xl transition-all duration-300"
          >
            Get in Touch
          </a>
        </div>

        <div class="flex gap-8 pt-8 hero-stats" role="list" aria-label="Professional statistics">
          <div role="listitem">
            <div class="text-4xl font-[var(--font-heading)] font-bold text-[var(--foreground)]" aria-label="5 plus years of experience">5+</div>
            <div class="text-sm text-[var(--muted-foreground)] mt-1">Years Exp.</div>
          </div>
          <div role="listitem">
            <div class="text-4xl font-[var(--font-heading)] font-bold text-[var(--foreground)]" aria-label="50 plus projects completed">50+</div>
            <div class="text-sm text-[var(--muted-foreground)] mt-1">Projects</div>
          </div>
          <div role="listitem">
            <div class="text-4xl font-[var(--font-heading)] font-bold text-[var(--foreground)]" aria-label="100 percent dedication">100%</div>
            <div class="text-sm text-[var(--muted-foreground)] mt-1">Dedication</div>
          </div>
        </div>
      </div>

      <div class="relative hero-image">
        <div class="relative group">
          <div class="relative overflow-hidden shadow-2xl">
            <Image
              src="/images/photo.jpg"
              alt="Parth Sinha - Full Stack Developer professional portrait"
              title="Hero image for Parth Sinha's portfolio"
              width={736}
              height={1302}
              class="w-full h-[500px] md:h-[600px] object-cover object-center transform group-hover:scale-105 transition-transform duration-700"
              loading="eager"
              quality={90}
            />
            <div class="absolute inset-0 bg-gradient-to-t from-[var(--foreground)] via-transparent to-transparent opacity-40" aria-hidden="true"></div>
          </div>

          <div class="absolute -inset-4 border-2 border-[var(--accent)] -z-10 transform translate-x-4 translate-y-4" aria-hidden="true"></div>

          <div class="absolute -bottom-8 -left-8 bg-[var(--secondary-background)] p-6 shadow-2xl badge-pulse" role="status" aria-label="Availability status">
            <div class="text-sm text-[var(--muted)] mb-1">Available for</div>
            <div class="text-xl font-[var(--font-heading)] font-bold text-[var(--secondary-foreground)]">Freelance</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 scroll-indicator" aria-hidden="true">
    <div class="flex flex-col items-center gap-2 text-[var(--muted-foreground)]">
      <span class="text-xs tracking-widest">SCROLL</span>
      <div class="w-[1px] h-12 bg-[var(--muted-foreground)] scroll-line"></div>
    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  const typingText = document.getElementById('typing-text');
  const text = 'Full Stack Developer crafting digital experiences with creativity and precision';
  let index = 0;

  function type() {
    if (typingText && index < text.length) {
      typingText.textContent += text.charAt(index);
      index++;
      setTimeout(type, 50);
    }
  }

  if (typingText) {
    setTimeout(type, 1000);
  }

  const tl = gsap.timeline({ defaults: { ease: 'power3.out' } });

  tl.fromTo('.hero-title',
    { y: 100, opacity: 0 },
    { y: 0, opacity: 1, duration: 0.8 }
  )
  .fromTo('.hero-line',
    { width: 0 },
    { width: '6rem', duration: 0.5 },
    '-=0.4'
  )
  .fromTo('.hero-subtitle',
    { y: 50, opacity: 0 },
    { y: 0, opacity: 1, duration: 0.5 },
    '-=0.3'
  )
  .fromTo('.hero-buttons',
    { y: 30, opacity: 0 },
    { y: 0, opacity: 1, duration: 0.4 },
    '-=0.2'
  )
  .fromTo('.hero-stats > div',
    { y: 20, opacity: 0 },
    { y: 0, opacity: 1, duration: 0.3, stagger: 0.08 },
    '-=0.2'
  )
  .fromTo('.hero-image',
    { x: 100, opacity: 0 },
    { x: 0, opacity: 1, duration: 0.7 },
    0.2
  );

  gsap.to('.hero-blur-text', {
    x: -200,
    scrollTrigger: {
      trigger: '#home',
      start: 'top top',
      end: 'bottom top',
      scrub: 1
    }
  });

  gsap.to('.hero-blur-text-2', {
    x: 200,
    scrollTrigger: {
      trigger: '#home',
      start: 'top top',
      end: 'bottom top',
      scrub: 1
    }
  });

  gsap.to('.scroll-line', {
    scaleY: 1.5,
    yoyo: true,
    repeat: -1,
    duration: 1.5,
    ease: 'power1.inOut'
  });
</script>

<style>
  @keyframes badgeFloat {
    0%, 100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-20px) scale(1.05);
    }
  }

  @keyframes shapeRotate {
    from {
      transform: rotate(45deg);
    }
    to {
      transform: rotate(225deg);
    }
  }

  @keyframes badgePulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  @keyframes blink {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0;
    }
  }

  .badge-float {
    animation: badgeFloat 6s ease-in-out infinite;
  }

  .badge-float-delay {
    animation: badgeFloat 6s ease-in-out infinite 3s;
  }

  .shape-rotate {
    animation: shapeRotate 20s linear infinite;
  }

  .badge-pulse {
    animation: badgePulse 3s ease-in-out infinite;
  }

  .typing-cursor {
    animation: blink 1s infinite;
    font-weight: 300;
  }
</style>
